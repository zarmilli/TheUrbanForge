{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa"}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/cooked/[id]/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\nimport { FiArrowLeft } from \"react-icons/fi\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function ProductDetailsPage() {\r\n  const router = useRouter();\r\n  const { id } = useParams();\r\n\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [adding, setAdding] = useState(false);\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      // ✅ Check if user is signed in\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) {\r\n        router.push(\"/intro\");\r\n        return;\r\n      }\r\n      setUserId(user.id);\r\n\r\n      // ✅ Fetch product details\r\n      const { data, error } = await supabase\r\n        .from(\"products\")\r\n        .select(\"*\")\r\n        .eq(\"id\", id)\r\n        .single();\r\n\r\n      if (!error) setProduct(data);\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchProduct();\r\n  }, [id, router]);\r\n\r\n  const handleAddToCart = async () => {\r\n    if (!userId || !product) return;\r\n    setAdding(true);\r\n\r\n    try {\r\n      // ✅ Check if product already exists in cart\r\n      const { data: existingItem, error: checkError } = await supabase\r\n        .from(\"carts\")\r\n        .select(\"id, quantity\")\r\n        .eq(\"user_id\", userId)\r\n        .eq(\"product_id\", product.id)\r\n        .maybeSingle();\r\n\r\n      if (checkError) throw checkError;\r\n\r\n      if (existingItem) {\r\n        // ✅ Update quantity\r\n        const { error: updateError } = await supabase\r\n          .from(\"carts\")\r\n          .update({ quantity: existingItem.quantity + 1 })\r\n          .eq(\"id\", existingItem.id);\r\n\r\n        if (updateError) throw updateError;\r\n      } else {\r\n        // ✅ Insert new row\r\n        const { error: insertError } = await supabase.from(\"carts\").insert([\r\n          {\r\n            user_id: userId,\r\n            product_id: product.id,\r\n            quantity: 1,\r\n          },\r\n        ]);\r\n\r\n        if (insertError) throw insertError;\r\n      }\r\n\r\n      alert(\"Added to cart!\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Error adding to cart\");\r\n    } finally {\r\n      setAdding(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-black text-white\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between px-6 py-4\">\r\n        <button\r\n          onClick={() => router.back()}\r\n          className=\"flex items-center justify-center w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 transition\"\r\n        >\r\n          <FiArrowLeft size={20} />\r\n        </button>\r\n        <h1 className=\"text-2xl font-semibold\">Details</h1>\r\n        <div className=\"w-10\" /> {/* Spacer for symmetry */}\r\n      </div>\r\n\r\n      {/* Skeleton Loader */}\r\n      {loading ? (\r\n        <div className=\"flex flex-col items-center justify-center flex-1 gap-4 animate-pulse\">\r\n          <div className=\"w-[90%] h-64 bg-white/10 rounded-2xl\"></div>\r\n          <div className=\"w-3/4 h-6 bg-white/10 rounded\"></div>\r\n          <div className=\"w-2/3 h-4 bg-white/10 rounded\"></div>\r\n          <div className=\"w-1/2 h-10 bg-white/10 rounded mt-6\"></div>\r\n        </div>\r\n      ) : (\r\n        product && (\r\n          <div className=\"flex flex-col p-6 space-y-6\">\r\n            {/* Product Image */}\r\n            <div className=\"relative w-full h-64 rounded-2xl overflow-hidden\">\r\n              <Image\r\n                src={product.image}\r\n                alt={product.name}\r\n                fill\r\n                className=\"object-cover\"\r\n                priority\r\n              />\r\n              {product.tag && (\r\n                <span className=\"absolute top-3 left-3 bg-[#ff4b1f] text-white text-xs font-semibold px-3 py-1 rounded-full uppercase tracking-wide\">\r\n                  {product.tag}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            {/* Product Details */}\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold mb-1\">{product.name}</h2>\r\n              <p className=\"text-[#ff4b1f] text-lg mb-2\">R{product.price}</p>\r\n              {product.prep_time && (\r\n                <p className=\"text-gray-400 text-sm mb-2\">\r\n                  Prep Time: {product.prep_time} min\r\n                </p>\r\n              )}\r\n              <p className=\"text-gray-300 leading-relaxed\">\r\n                {product.description}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Add to Cart Button */}\r\n            <button\r\n              onClick={handleAddToCart}\r\n              disabled={adding}\r\n              className={`mt-4 w-full py-3 rounded-full font-semibold transition ${\r\n                adding\r\n                  ? \"bg-gray-600 cursor-not-allowed\"\r\n                  : \"bg-[#ff4b1f] hover:bg-[#ff5f33]\"\r\n              }`}\r\n            >\r\n              {adding ? \"Adding...\" : \"Add to Cart\"}\r\n            </button>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}